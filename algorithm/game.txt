Game class:
    attributes:
        screen, foundation, free cells, tableau, deck, held_card, running
    
    create_game:
        game.create_screen
        game.create_foundation
        game.create_free_cells
        game.create_tabluau
        set cards to a deck
        game.add_cards
        held_card is None
        last_click = now



    @property
    spaces:
        return all spaces on the game board.

    check_click_type(target):
        set click_time to now
        time_between is click_time - self.last_click_time
        if time_between <= DOUBLECLICKTIME and target == self.last_target:
            return "double"
        return "single"

    check_destination
        for space in spaces:
            dest is space.valid_dest(held_card):
            if dest:
                return dest

    create_foundation
        create foundation spaces in upper left
        create region for foundation

    create_free_cells
        create free cells in upper right
        create region for free cells

    create_tableau
        create 8 tableau columns
        create tableau region at lower portion of screen
    
    deal_cards:
        shuffle deck
        start at first tableau
        for card in deck:
            tableau.stack_card(card)
            card.go_home
            if not last tab:
                move to next tab
            else:
                go back to first tab
    
    draw:
        for each space:
            space.draw
        if held_card:
            held_card.draw

    get_mouse_target:
        Check each region to see if mouse is in it.
            if mouse in region:
                for space in region:
                    space.check_for_target
                    if target is card:
                        return target

    handle_events:
        get events
        for event in events:
            game.handle_event
    
    handle_event(event):
        if event is quit event:
            game.running = false
        elif event is mouse down:
            game.handle_mouse_down
        elif event is mouse up:
            game.handle_mouse_up
    
    handle_mouse_down:
        set target to game.get_mouse_target
        if target:
            click_type = self.check_click_type(target)
            if single click:
                self.handle_single_click(target)
            elif double click:
                self.handle_double_click(target)


    handle_single_click(target):
        if target is card and card.is_valid_stack:
            self.held_card = target
            set self.last_click to now
            set self.last_target to target
            target.click(cursor position)

    handle_double_click(target):
        if target is card and target.is_valid_stack:
            for space in foundations + tableau + freecells:
                dest = space.get_valid_dest(target)
                if dest:
                    target.switch_space(dest)

    handle_mouse_up:
        if held_card:
            held_card.release(self.spaces)
            set self.held_card to None

    run:
        while game.running:
            game.tick
    
    tick:
        game.draw
        game.handle_events
        game.update

    update:
        if held_card:
            *card.drag to mouse location*

    